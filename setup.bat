@echo off
setlocal enabledelayedexpansion

echo.
echo  â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
echo  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• 
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
echo  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
echo  â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• 
echo.
echo                                  ðŸ¨ Sistema de Reservas de Hoteles
echo                                      Arquitectura de Microservicios
echo.

REM Verificar dependencias
echo ðŸ” Verificando dependencias...

docker --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Docker no estÃ¡ instalado. Descarga desde: https://www.docker.com/products/docker-desktop
    pause
    exit /b 1
)

node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Node.js no estÃ¡ instalado. Descarga desde: https://nodejs.org/
    pause
    exit /b 1
)

go version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Go no estÃ¡ instalado. Descarga desde: https://golang.org/dl/
    pause
    exit /b 1
)

echo âœ… Todas las dependencias estÃ¡n instaladas

REM Crear estructura de proyecto
echo.
echo ðŸ“ Creando estructura del proyecto...

REM Crear directorios principales
for %%d in (
    "frontend" 
    "services\api-gateway" 
    "services\hotel-info" 
    "services\hotel-search" 
    "services\user-booking"
    "solr\configsets\hotels\conf"
    "haproxy"
    "nginx"
    "uploads"
) do (
    if not exist "%%d" mkdir "%%d"
)

echo âœ… Estructura de directorios creada

REM Crear archivos de configuraciÃ³n
echo.
echo ðŸ“„ Creando archivos de configuraciÃ³n...

REM .env file
echo # ConfiguraciÃ³n del Sistema Hotel Booking > .env
echo JWT_SECRET=your-super-secret-jwt-key-change-in-production >> .env
echo GIN_MODE=debug >> .env
echo. >> .env
echo # Frontend >> .env
echo REACT_APP_API_URL=http://localhost:8080/api >> .env
echo. >> .env
echo # Amadeus API ^(Obtener de https://developers.amadeus.com/^) >> .env
echo AMADEUS_API_KEY=your_amadeus_api_key_here >> .env
echo AMADEUS_API_SECRET=your_amadeus_api_secret_here >> .env
echo AMADEUS_API_URL=https://test.api.amadeus.com >> .env

REM Solr Schema
echo ^<?xml version="1.0" encoding="UTF-8"?^> > solr\configsets\hotels\conf\schema.xml
echo ^<schema name="hotels" version="1.6"^> >> solr\configsets\hotels\conf\schema.xml
echo   ^<field name="id" type="string" indexed="true" stored="true" required="true" multiValued="false"/^> >> solr\configsets\hotels\conf\schema.xml
echo   ^<field name="name" type="text_general" indexed="true" stored="true"/^> >> solr\configsets\hotels\conf\schema.xml
echo   ^<field name="description" type="text_general" indexed="true" stored="true"/^> >> solr\configsets\hotels\conf\schema.xml
echo   ^<field name="city" type="string" indexed="true" stored="true"/^> >> solr\configsets\hotels\conf\schema.xml
echo